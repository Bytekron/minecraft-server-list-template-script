"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_services_sitemapService_ts";
exports.ids = ["_ssr_src_services_sitemapService_ts"];
exports.modules = {

/***/ "(ssr)/./src/services/sitemapService.ts":
/*!****************************************!*\
  !*** ./src/services/sitemapService.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SitemapService: () => (/* binding */ SitemapService)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/supabase */ \"(ssr)/./src/lib/supabase.ts\");\n/**\n * Sitemap Service\n * \n * Handles dynamic sitemap generation including server pages\n * and automatic updates when new servers are added.\n * \n * @author ServerCraft Development Team\n * @version 1.0.0\n */ \nclass SitemapService {\n    /**\n   * Generate dynamic sitemap with all server pages\n   */ static async generateSitemap() {\n        try {\n            // Get all approved servers for server pages\n            const { data: servers, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"servers\").select(\"slug, updated_at, gamemode, platform, votes, name\").eq(\"status\", \"approved\").order(\"votes\", {\n                ascending: false\n            });\n            if (error) {\n                console.error(\"Error fetching servers for sitemap:\", error);\n            // Continue with static sitemap if server fetch fails\n            }\n            const baseUrl = \"https://servercraft.net\";\n            const currentDate = new Date().toISOString().split(\"T\")[0];\n            let sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\"\n        xsi:schemaLocation=\"http://www.sitemaps.org/schemas/sitemap/0.9\n        http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\">\n  \n  <!-- Homepage -->\n  <url>\n    <loc>${baseUrl}/</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>1.0</priority>\n    <image:image>\n      <image:loc>${baseUrl}/logo_hd.webp</image:loc>\n      <image:title>ServerCraft - Best Minecraft Server List</image:title>\n    </image:image>\n  </url>\n  \n  <!-- Platform Pages -->\n  <url>\n    <loc>${baseUrl}/java</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/bedrock</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/crossplatform</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <!-- Category Pages -->\n  <url>\n    <loc>${baseUrl}/popular</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/new</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/whitelist</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <!-- Gamemode Pages -->\n  <url>\n    <loc>${baseUrl}/survival</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/pvp</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/creative</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/skyblock</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/prison</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/factions</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/towny</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/economy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/minigames</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/vanilla</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/anarchy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <!-- Additional Gamemode Pages -->\n  <url>\n    <loc>${baseUrl}/bedwars</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/skywars</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/kitpvp</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/parkour</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/pixelmon</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/lifesteal</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/mcmmo</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/roleplay</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/hardcore</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/uhc</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/hunger-games</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/murder-mystery</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/hide-and-seek</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/build-battle</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/spleef</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/tnt-run</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/the-bridge</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/capture-the-flag</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <!-- Version Pages -->\n  <url>\n    <loc>${baseUrl}/1.21</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.20</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.19</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.18</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.17</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.16</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n`;\n            // Add individual server pages\n            if (servers && servers.length > 0) {\n                sitemap += \"\\n  <!-- Individual Server Pages -->\\n\";\n                for (const server of servers){\n                    const lastMod = server.updated_at ? new Date(server.updated_at).toISOString().split(\"T\")[0] : currentDate;\n                    const priority = this.getServerPriority(server.votes, server.gamemode, server.platform);\n                    const changefreq = this.getServerChangeFreq(server.votes);\n                    sitemap += `  <url>\n    <loc>${baseUrl}/server/${server.slug}</loc>\n    <lastmod>${lastMod}</lastmod>\n    <changefreq>${changefreq}</changefreq>\n    <priority>${priority}</priority>\n  </url>\n`;\n                }\n            }\n            // Add static pages\n            sitemap += `\n  <!-- Static Pages -->\n  <url>\n    <loc>${baseUrl}/submit</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/help</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.5</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/api</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.4</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/contact</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.4</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/blog</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n  \n  <!-- Legal Pages -->\n  <url>\n    <loc>${baseUrl}/terms</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.3</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/privacy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.3</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/dmca</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.2</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/guidelines</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.2</priority>\n  </url>\n  \n</urlset>`;\n            return sitemap;\n        } catch (error) {\n            console.error(\"Error generating sitemap:\", error);\n            return this.getStaticSitemap();\n        }\n    }\n    /**\n   * Generate sitemap with all URLs (UPDATED VERSION)\n   */ static async generateSitemap_OLD() {\n        try {\n            // Get all approved servers\n            const { data: servers, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"servers\").select(\"slug, updated_at, gamemode, platform, votes\").eq(\"status\", \"approved\").order(\"votes\", {\n                ascending: false\n            });\n            if (error) {\n                console.error(\"Error fetching servers for sitemap:\", error);\n                return this.getStaticSitemap();\n            }\n            const baseUrl = \"https://servercraft.net\";\n            const currentDate = new Date().toISOString().split(\"T\")[0];\n            let sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\"\n        xsi:schemaLocation=\"http://www.sitemaps.org/schemas/sitemap/0.9\n        http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\">\n  \n  <!-- Homepage -->\n  <url>\n    <loc>${baseUrl}/</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>1.0</priority>\n    <image:image>\n      <image:loc>${baseUrl}/logo_hd.webp</image:loc>\n      <image:title>ServerCraft - Best Minecraft Server List</image:title>\n    </image:image>\n  </url>\n  \n  <!-- Platform Pages -->\n  <url>\n    <loc>${baseUrl}/java</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/bedrock</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/crossplatform</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <!-- Category Pages -->\n  <url>\n    <loc>${baseUrl}/popular</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>0.9</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/new</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/whitelist</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <!-- Gamemode Pages -->\n  <url>\n    <loc>${baseUrl}/survival</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/pvp</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/creative</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/skyblock</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/prison</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/factions</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/towny</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/economy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/minigames</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/vanilla</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/anarchy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <!-- Version Pages -->\n  <url>\n    <loc>${baseUrl}/1.21</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.8</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.20</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.19</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.7</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/1.18</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>daily</changefreq>\n    <priority>0.6</priority>\n  </url>\n`;\n            // Add individual server pages\n            if (servers && servers.length > 0) {\n                sitemap += \"\\n  <!-- Individual Server Pages -->\\n\";\n                for (const server of servers){\n                    const lastMod = server.updated_at ? new Date(server.updated_at).toISOString().split(\"T\")[0] : currentDate;\n                    const priority = this.getServerPriority(server.votes, server.gamemode, server.platform);\n                    const changefreq = this.getServerChangeFreq(server.votes);\n                    sitemap += `  <url>\n    <loc>${baseUrl}/server/${server.slug}</loc>\n    <lastmod>${lastMod}</lastmod>\n    <changefreq>${changefreq}</changefreq>\n    <priority>${priority}</priority>\n  </url>\n`;\n                }\n            }\n            // Add static pages\n            sitemap += `\n  <!-- Static Pages -->\n  <url>\n    <loc>${baseUrl}/submit</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.6</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/help</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.5</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/api</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.4</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/contact</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.4</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/blog</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n  \n  <!-- Legal Pages -->\n  <url>\n    <loc>${baseUrl}/terms</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.3</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/privacy</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.3</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/dmca</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.2</priority>\n  </url>\n  \n  <url>\n    <loc>${baseUrl}/guidelines</loc>\n    <lastmod>${currentDate}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.2</priority>\n  </url>\n  \n</urlset>`;\n            return sitemap;\n        } catch (error) {\n            console.error(\"Error generating sitemap:\", error);\n            return this.getStaticSitemap();\n        }\n    }\n    /**\n   * Get server priority based on votes and other factors\n   */ static getServerPriority(votes, gamemode, platform) {\n        let priority = 0.5; // Base priority\n        // Boost based on votes\n        if (votes > 1000) priority += 0.3;\n        else if (votes > 500) priority += 0.2;\n        else if (votes > 100) priority += 0.1;\n        // Boost popular gamemodes\n        const popularGamemodes = [\n            \"survival\",\n            \"pvp\",\n            \"skyblock\",\n            \"creative\"\n        ];\n        if (popularGamemodes.includes(gamemode)) priority += 0.1;\n        // Boost Java and crossplatform\n        if (platform === \"java\" || platform === \"crossplatform\") priority += 0.05;\n        return Math.min(0.9, priority).toFixed(1);\n    }\n    /**\n   * Get server change frequency based on activity\n   */ static getServerChangeFreq(votes) {\n        if (votes > 500) return \"daily\";\n        if (votes > 100) return \"weekly\";\n        return \"monthly\";\n    }\n    /**\n   * Fallback static sitemap if database is unavailable\n   */ static getStaticSitemap() {\n        return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n  <url>\n    <loc>https://servercraft.net/</loc>\n    <lastmod>${new Date().toISOString().split(\"T\")[0]}</lastmod>\n    <changefreq>hourly</changefreq>\n    <priority>1.0</priority>\n  </url>\n</urlset>`;\n    }\n    /**\n   * Trigger sitemap regeneration when a new server is added\n   */ static async updateSitemapForNewServer(serverId) {\n        try {\n            console.log(`Triggering sitemap update for new server: ${serverId}`);\n            const newSitemap = await this.generateSitemap();\n            console.log(\"Sitemap regenerated with new server\");\n            // In production, this would save to /public/sitemap-servers.xml\n            // For development, we'll store it in localStorage and log the update\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error updating sitemap for new server:\", error);\n        }\n    }\n    /**\n   * Get the current generated sitemap\n   */ static async getCurrentSitemap() {\n        return await this.generateSitemap();\n    }\n    /**\n   * Generate a dedicated server sitemap (separate from main sitemap)\n   */ static async generateServerSitemap() {\n        try {\n            // Get all approved servers\n            const { data: servers, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"servers\").select(\"slug, updated_at, gamemode, platform, votes, name\").eq(\"status\", \"approved\").order(\"votes\", {\n                ascending: false\n            });\n            if (error) {\n                console.error(\"Error fetching servers for server sitemap:\", error);\n                return this.getEmptyServerSitemap();\n            }\n            const baseUrl = \"https://servercraft.net\";\n            const currentDate = new Date().toISOString().split(\"T\")[0];\n            let sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.sitemaps.org/schemas/sitemap/0.9\n        http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\">\n  \n  <!-- Server Pages Sitemap - Generated ${currentDate} -->\n`;\n            // Add individual server pages\n            if (servers && servers.length > 0) {\n                for (const server of servers){\n                    const lastMod = server.updated_at ? new Date(server.updated_at).toISOString().split(\"T\")[0] : currentDate;\n                    const priority = this.getServerPriority(server.votes, server.gamemode, server.platform);\n                    const changefreq = this.getServerChangeFreq(server.votes);\n                    sitemap += `  <url>\n    <loc>${baseUrl}/server/${server.slug}</loc>\n    <lastmod>${lastMod}</lastmod>\n    <changefreq>${changefreq}</changefreq>\n    <priority>${priority}</priority>\n  </url>\n`;\n                }\n            }\n            sitemap += \"\\n</urlset>\";\n            return sitemap;\n        } catch (error) {\n            console.error(\"Error generating server sitemap:\", error);\n            return this.getEmptyServerSitemap();\n        }\n    }\n    /**\n   * Get empty server sitemap if generation fails\n   */ static getEmptyServerSitemap() {\n        return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n  <!-- Server sitemap temporarily unavailable -->\n</urlset>`;\n    }\n    /**\n   * Update server sitemap when server is deleted\n   */ static async updateSitemapForDeletedServer(serverId) {\n        try {\n            console.log(`Triggering sitemap update for deleted server: ${serverId}`);\n            const newSitemap = await this.generateServerSitemap();\n            console.log(\"Server sitemap regenerated after server deletion\");\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error updating sitemap for deleted server:\", error);\n        }\n    }\n    /**\n   * Generate and save sitemap to public/sitemap.xml\n   */ static async generateAndSaveSitemap() {\n        try {\n            console.log(\"\\uD83D\\uDDFAÔ∏è Generating complete sitemap...\");\n            // Generate the complete sitemap with all URLs\n            const sitemapXML = await this.generateSitemap();\n            console.log(\"‚úÖ Sitemap generated successfully\");\n            console.log(\"\\uD83D\\uDCC4 Sitemap preview (first 500 chars):\", sitemapXML.substring(0, 500) + \"...\");\n            // Note: Writing to filesystem is a server-side operation\n            console.log(\"\\uD83D\\uDCBE Sitemap generated - filesystem write requires server-side implementation\");\n            // Store in localStorage for development purposes\n            if (false) {}\n            // Show user-friendly message with instructions\n            const urlCount = (sitemapXML.match(/<url>/g) || []).length;\n            alert(`‚úÖ Sitemap generated successfully!\\n\\nüìä Generated ${urlCount} URLs\\nüíæ Stored in localStorage for development\\nüîç Check browser console for sitemap content\\n\\nüìù To save to filesystem:\\n1. Copy sitemap from console\\n2. Save as public/sitemap.xml`);\n        } catch (error) {\n            console.error(\"‚ùå Sitemap generation failed:\", error);\n            // Fallback: save to localStorage and provide manual instructions\n            try {\n                const sitemapXML = await this.generateSitemap();\n                if (false) {}\n            } catch (fallbackError) {\n                alert(`‚ùå Sitemap generation failed: ${error.message}`);\n            }\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc2VydmljZXMvc2l0ZW1hcFNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Q0FRQyxHQUUwQztBQUVwQyxNQUFNQztJQUNYOztHQUVDLEdBQ0QsYUFBYUMsa0JBQW1DO1FBQzlDLElBQUk7WUFDRiw0Q0FBNEM7WUFDNUMsTUFBTSxFQUFFQyxNQUFNQyxPQUFPLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1MLG1EQUFRQSxDQUM1Q00sSUFBSSxDQUFDLFdBQ0xDLE1BQU0sQ0FBQyxxREFDUEMsRUFBRSxDQUFDLFVBQVUsWUFDYkMsS0FBSyxDQUFDLFNBQVM7Z0JBQUVDLFdBQVc7WUFBTTtZQUVyQyxJQUFJTCxPQUFPO2dCQUNUTSxRQUFRTixLQUFLLENBQUMsdUNBQXVDQTtZQUNyRCxxREFBcUQ7WUFDdkQ7WUFFQSxNQUFNTyxVQUFVO1lBQ2hCLE1BQU1DLGNBQWMsSUFBSUMsT0FBT0MsV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFFMUQsSUFBSUMsVUFBVSxDQUFDOzs7Ozs7Ozs7U0FTWixFQUFFTCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7OztpQkFJVixFQUFFRCxRQUFROzs7Ozs7O1NBT2xCLEVBQUVBLFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7OztTQU9sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7Ozs7U0FPbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7OztTQU9sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFBRUMsWUFBWTs7Ozs7O1NBTWxCLEVBQUVELFFBQVE7YUFDTixFQUFFQyxZQUFZOzs7Ozs7U0FNbEIsRUFBRUQsUUFBUTthQUNOLEVBQUVDLFlBQVk7Ozs7OztTQU1sQixFQUFFRCxRQUFRO2FBQ04sRUFB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QWlFO1lBQ2pFLElBQUk7Z0JBQ0YsTUFBTTJDLGFBQWEsTUFBTSxJQUFJLENBQUM5QyxlQUFlO2dCQUM3QyxJQUFJLEtBQWtCLEVBQWEsRUFJbEM7WUFDSCxFQUFFLE9BQU9tRCxlQUFlO2dCQUN0QkQsTUFBTSxDQUFDLDZCQUE2QixFQUFFL0MsTUFBTWlELE9BQU8sQ0FBQyxDQUFDO1lBQ3ZEO1lBQ0EsTUFBTWpEO1FBQ1I7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmVyY3JhZnQtbmV4dGpzLy4vc3JjL3NlcnZpY2VzL3NpdGVtYXBTZXJ2aWNlLnRzPzNjMjAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaXRlbWFwIFNlcnZpY2VcbiAqIFxuICogSGFuZGxlcyBkeW5hbWljIHNpdGVtYXAgZ2VuZXJhdGlvbiBpbmNsdWRpbmcgc2VydmVyIHBhZ2VzXG4gKiBhbmQgYXV0b21hdGljIHVwZGF0ZXMgd2hlbiBuZXcgc2VydmVycyBhcmUgYWRkZWQuXG4gKiBcbiAqIEBhdXRob3IgU2VydmVyQ3JhZnQgRGV2ZWxvcG1lbnQgVGVhbVxuICogQHZlcnNpb24gMS4wLjBcbiAqL1xuXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBTaXRlbWFwU2VydmljZSB7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBkeW5hbWljIHNpdGVtYXAgd2l0aCBhbGwgc2VydmVyIHBhZ2VzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVTaXRlbWFwKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgYXBwcm92ZWQgc2VydmVycyBmb3Igc2VydmVyIHBhZ2VzXG4gICAgICBjb25zdCB7IGRhdGE6IHNlcnZlcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc2VydmVycycpXG4gICAgICAgIC5zZWxlY3QoJ3NsdWcsIHVwZGF0ZWRfYXQsIGdhbWVtb2RlLCBwbGF0Zm9ybSwgdm90ZXMsIG5hbWUnKVxuICAgICAgICAuZXEoJ3N0YXR1cycsICdhcHByb3ZlZCcpXG4gICAgICAgIC5vcmRlcigndm90ZXMnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzZXJ2ZXJzIGZvciBzaXRlbWFwOicsIGVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBzdGF0aWMgc2l0ZW1hcCBpZiBzZXJ2ZXIgZmV0Y2ggZmFpbHNcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmFzZVVybCA9ICdodHRwczovL3NlcnZlcmNyYWZ0Lm5ldCc7XG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuXG4gICAgICBsZXQgc2l0ZW1hcCA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjx1cmxzZXQgeG1sbnM9XCJodHRwOi8vd3d3LnNpdGVtYXBzLm9yZy9zY2hlbWFzL3NpdGVtYXAvMC45XCJcbiAgICAgICAgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIlxuICAgICAgICB4bWxuczppbWFnZT1cImh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9zY2hlbWFzL3NpdGVtYXAtaW1hZ2UvMS4xXCJcbiAgICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPVwiaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvc2NoZW1hcy9zaXRlbWFwLzAuOVxuICAgICAgICBodHRwOi8vd3d3LnNpdGVtYXBzLm9yZy9zY2hlbWFzL3NpdGVtYXAvMC45L3NpdGVtYXAueHNkXCI+XG4gIFxuICA8IS0tIEhvbWVwYWdlIC0tPlxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS88L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5ob3VybHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjEuMDwvcHJpb3JpdHk+XG4gICAgPGltYWdlOmltYWdlPlxuICAgICAgPGltYWdlOmxvYz4ke2Jhc2VVcmx9L2xvZ29faGQud2VicDwvaW1hZ2U6bG9jPlxuICAgICAgPGltYWdlOnRpdGxlPlNlcnZlckNyYWZ0IC0gQmVzdCBNaW5lY3JhZnQgU2VydmVyIExpc3Q8L2ltYWdlOnRpdGxlPlxuICAgIDwvaW1hZ2U6aW1hZ2U+XG4gIDwvdXJsPlxuICBcbiAgPCEtLSBQbGF0Zm9ybSBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vamF2YTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjk8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2JlZHJvY2s8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC45PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9jcm9zc3BsYXRmb3JtPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuODwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPCEtLSBDYXRlZ29yeSBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vcG9wdWxhcjwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmhvdXJseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC45PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9uZXc8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5ob3VybHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuODwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vd2hpdGVsaXN0PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPCEtLSBHYW1lbW9kZSBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vc3Vydml2YWw8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC44PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9wdnA8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC44PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9jcmVhdGl2ZTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3NreWJsb2NrPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuODwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vcHJpc29uPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vZmFjdGlvbnM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC43PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS90b3dueTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2Vjb25vbXk8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9taW5pZ2FtZXM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC43PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS92YW5pbGxhPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vYW5hcmNoeTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDwhLS0gQWRkaXRpb25hbCBHYW1lbW9kZSBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vYmVkd2FyczwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3NreXdhcnM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC43PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9raXRwdnA8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9wYXJrb3VyPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vcGl4ZWxtb248L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9saWZlc3RlYWw8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9tY21tbzwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3JvbGVwbGF5PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vaGFyZGNvcmU8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS91aGM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9odW5nZXItZ2FtZXM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9tdXJkZXItbXlzdGVyeTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2hpZGUtYW5kLXNlZWs8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9idWlsZC1iYXR0bGU8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9zcGxlZWY8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS90bnQtcnVuPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vdGhlLWJyaWRnZTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2NhcHR1cmUtdGhlLWZsYWc8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8IS0tIFZlcnNpb24gUGFnZXMgLS0+XG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9LzEuMjE8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC44PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS8xLjIwPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vMS4xOTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9LzEuMTg8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS8xLjE3PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+d2Vla2x5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjU8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9LzEuMTY8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT53ZWVrbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNTwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuYDtcblxuICAgICAgLy8gQWRkIGluZGl2aWR1YWwgc2VydmVyIHBhZ2VzXG4gICAgICBpZiAoc2VydmVycyAmJiBzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2l0ZW1hcCArPSAnXFxuICA8IS0tIEluZGl2aWR1YWwgU2VydmVyIFBhZ2VzIC0tPlxcbic7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBzZXJ2ZXJzKSB7XG4gICAgICAgICAgY29uc3QgbGFzdE1vZCA9IHNlcnZlci51cGRhdGVkX2F0ID8gbmV3IERhdGUoc2VydmVyLnVwZGF0ZWRfYXQpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6IGN1cnJlbnREYXRlO1xuICAgICAgICAgIGNvbnN0IHByaW9yaXR5ID0gdGhpcy5nZXRTZXJ2ZXJQcmlvcml0eShzZXJ2ZXIudm90ZXMsIHNlcnZlci5nYW1lbW9kZSwgc2VydmVyLnBsYXRmb3JtKTtcbiAgICAgICAgICBjb25zdCBjaGFuZ2VmcmVxID0gdGhpcy5nZXRTZXJ2ZXJDaGFuZ2VGcmVxKHNlcnZlci52b3Rlcyk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2l0ZW1hcCArPSBgICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9zZXJ2ZXIvJHtzZXJ2ZXIuc2x1Z308L2xvYz5cbiAgICA8bGFzdG1vZD4ke2xhc3RNb2R9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPiR7Y2hhbmdlZnJlcX08L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PiR7cHJpb3JpdHl9PC9wcmlvcml0eT5cbiAgPC91cmw+XG5gO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBzdGF0aWMgcGFnZXNcbiAgICAgIHNpdGVtYXAgKz0gYFxuICA8IS0tIFN0YXRpYyBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vc3VibWl0PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+bW9udGhseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9oZWxwPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+bW9udGhseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC41PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9hcGk8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjQ8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2NvbnRhY3Q8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjQ8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2Jsb2c8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT53ZWVrbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNTwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPCEtLSBMZWdhbCBQYWdlcyAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vdGVybXM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjM8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3ByaXZhY3k8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjM8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2RtY2E8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjI8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2d1aWRlbGluZXM8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjI8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG48L3VybHNldD5gO1xuXG4gICAgICByZXR1cm4gc2l0ZW1hcDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBzaXRlbWFwOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFN0YXRpY1NpdGVtYXAoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc2l0ZW1hcCB3aXRoIGFsbCBVUkxzIChVUERBVEVEIFZFUlNJT04pXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVTaXRlbWFwX09MRCgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIGFwcHJvdmVkIHNlcnZlcnNcbiAgICAgIGNvbnN0IHsgZGF0YTogc2VydmVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzZXJ2ZXJzJylcbiAgICAgICAgLnNlbGVjdCgnc2x1ZywgdXBkYXRlZF9hdCwgZ2FtZW1vZGUsIHBsYXRmb3JtLCB2b3RlcycpXG4gICAgICAgIC5lcSgnc3RhdHVzJywgJ2FwcHJvdmVkJylcbiAgICAgICAgLm9yZGVyKCd2b3RlcycsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNlcnZlcnMgZm9yIHNpdGVtYXA6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0aWNTaXRlbWFwKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly9zZXJ2ZXJjcmFmdC5uZXQnO1xuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgICAgbGV0IHNpdGVtYXAgPSBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48dXJsc2V0IHhtbG5zPVwiaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvc2NoZW1hcy9zaXRlbWFwLzAuOVwiXG4gICAgICAgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbiAgICAgICAgeG1sbnM6aW1hZ2U9XCJodHRwOi8vd3d3Lmdvb2dsZS5jb20vc2NoZW1hcy9zaXRlbWFwLWltYWdlLzEuMVwiXG4gICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly93d3cuc2l0ZW1hcHMub3JnL3NjaGVtYXMvc2l0ZW1hcC8wLjlcbiAgICAgICAgaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvc2NoZW1hcy9zaXRlbWFwLzAuOS9zaXRlbWFwLnhzZFwiPlxuICBcbiAgPCEtLSBIb21lcGFnZSAtLT5cbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+aG91cmx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4xLjA8L3ByaW9yaXR5PlxuICAgIDxpbWFnZTppbWFnZT5cbiAgICAgIDxpbWFnZTpsb2M+JHtiYXNlVXJsfS9sb2dvX2hkLndlYnA8L2ltYWdlOmxvYz5cbiAgICAgIDxpbWFnZTp0aXRsZT5TZXJ2ZXJDcmFmdCAtIEJlc3QgTWluZWNyYWZ0IFNlcnZlciBMaXN0PC9pbWFnZTp0aXRsZT5cbiAgICA8L2ltYWdlOmltYWdlPlxuICA8L3VybD5cbiAgXG4gIDwhLS0gUGxhdGZvcm0gUGFnZXMgLS0+XG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2phdmE8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC45PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9iZWRyb2NrPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuOTwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vY3Jvc3NwbGF0Zm9ybTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjg8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDwhLS0gQ2F0ZWdvcnkgUGFnZXMgLS0+XG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3BvcHVsYXI8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5ob3VybHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuOTwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vbmV3PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+aG91cmx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjg8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3doaXRlbGlzdDwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDwhLS0gR2FtZW1vZGUgUGFnZXMgLS0+XG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3N1cnZpdmFsPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuODwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vcHZwPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuODwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vY3JlYXRpdmU8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC43PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9za3libG9jazwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjg8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3ByaXNvbjwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2ZhY3Rpb25zPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vdG93bnk8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC43PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9lY29ub215PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vbWluaWdhbWVzPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vdmFuaWxsYTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2FuYXJjaHk8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8IS0tIFZlcnNpb24gUGFnZXMgLS0+XG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9LzEuMjE8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC44PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS8xLjIwPC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtjdXJyZW50RGF0ZX08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+ZGFpbHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vMS4xOTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmRhaWx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjc8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9LzEuMTg8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5kYWlseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC42PC9wcmlvcml0eT5cbiAgPC91cmw+XG5gO1xuXG4gICAgICAvLyBBZGQgaW5kaXZpZHVhbCBzZXJ2ZXIgcGFnZXNcbiAgICAgIGlmIChzZXJ2ZXJzICYmIHNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBzaXRlbWFwICs9ICdcXG4gIDwhLS0gSW5kaXZpZHVhbCBTZXJ2ZXIgUGFnZXMgLS0+XFxuJztcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIHNlcnZlcnMpIHtcbiAgICAgICAgICBjb25zdCBsYXN0TW9kID0gc2VydmVyLnVwZGF0ZWRfYXQgPyBuZXcgRGF0ZShzZXJ2ZXIudXBkYXRlZF9hdCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIDogY3VycmVudERhdGU7XG4gICAgICAgICAgY29uc3QgcHJpb3JpdHkgPSB0aGlzLmdldFNlcnZlclByaW9yaXR5KHNlcnZlci52b3Rlcywgc2VydmVyLmdhbWVtb2RlLCBzZXJ2ZXIucGxhdGZvcm0pO1xuICAgICAgICAgIGNvbnN0IGNoYW5nZWZyZXEgPSB0aGlzLmdldFNlcnZlckNoYW5nZUZyZXEoc2VydmVyLnZvdGVzKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzaXRlbWFwICs9IGAgIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L3NlcnZlci8ke3NlcnZlci5zbHVnfTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7bGFzdE1vZH08L2xhc3Rtb2Q+XG4gICAgPGNoYW5nZWZyZXE+JHtjaGFuZ2VmcmVxfTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+JHtwcmlvcml0eX08L3ByaW9yaXR5PlxuICA8L3VybD5cbmA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHN0YXRpYyBwYWdlc1xuICAgICAgc2l0ZW1hcCArPSBgXG4gIDwhLS0gU3RhdGljIFBhZ2VzIC0tPlxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS9zdWJtaXQ8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjY8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2hlbHA8L2xvYz5cbiAgICA8bGFzdG1vZD4ke2N1cnJlbnREYXRlfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT5tb250aGx5PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4wLjU8L3ByaW9yaXR5PlxuICA8L3VybD5cbiAgXG4gIDx1cmw+XG4gICAgPGxvYz4ke2Jhc2VVcmx9L2FwaTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNDwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vY29udGFjdDwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuNDwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vYmxvZzwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPndlZWtseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MC41PC9wcmlvcml0eT5cbiAgPC91cmw+XG4gIFxuICA8IS0tIExlZ2FsIFBhZ2VzIC0tPlxuICA8dXJsPlxuICAgIDxsb2M+JHtiYXNlVXJsfS90ZXJtczwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuMzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vcHJpdmFjeTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuMzwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vZG1jYTwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuMjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbiAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vZ3VpZGVsaW5lczwvbG9jPlxuICAgIDxsYXN0bW9kPiR7Y3VycmVudERhdGV9PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPm1vbnRobHk8L2NoYW5nZWZyZXE+XG4gICAgPHByaW9yaXR5PjAuMjwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuICBcbjwvdXJsc2V0PmA7XG5cbiAgICAgIHJldHVybiBzaXRlbWFwO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHNpdGVtYXA6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGljU2l0ZW1hcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2VydmVyIHByaW9yaXR5IGJhc2VkIG9uIHZvdGVzIGFuZCBvdGhlciBmYWN0b3JzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZXRTZXJ2ZXJQcmlvcml0eSh2b3RlczogbnVtYmVyLCBnYW1lbW9kZTogc3RyaW5nLCBwbGF0Zm9ybTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpb3JpdHkgPSAwLjU7IC8vIEJhc2UgcHJpb3JpdHlcblxuICAgIC8vIEJvb3N0IGJhc2VkIG9uIHZvdGVzXG4gICAgaWYgKHZvdGVzID4gMTAwMCkgcHJpb3JpdHkgKz0gMC4zO1xuICAgIGVsc2UgaWYgKHZvdGVzID4gNTAwKSBwcmlvcml0eSArPSAwLjI7XG4gICAgZWxzZSBpZiAodm90ZXMgPiAxMDApIHByaW9yaXR5ICs9IDAuMTtcblxuICAgIC8vIEJvb3N0IHBvcHVsYXIgZ2FtZW1vZGVzXG4gICAgY29uc3QgcG9wdWxhckdhbWVtb2RlcyA9IFsnc3Vydml2YWwnLCAncHZwJywgJ3NreWJsb2NrJywgJ2NyZWF0aXZlJ107XG4gICAgaWYgKHBvcHVsYXJHYW1lbW9kZXMuaW5jbHVkZXMoZ2FtZW1vZGUpKSBwcmlvcml0eSArPSAwLjE7XG5cbiAgICAvLyBCb29zdCBKYXZhIGFuZCBjcm9zc3BsYXRmb3JtXG4gICAgaWYgKHBsYXRmb3JtID09PSAnamF2YScgfHwgcGxhdGZvcm0gPT09ICdjcm9zc3BsYXRmb3JtJykgcHJpb3JpdHkgKz0gMC4wNTtcblxuICAgIHJldHVybiBNYXRoLm1pbigwLjksIHByaW9yaXR5KS50b0ZpeGVkKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzZXJ2ZXIgY2hhbmdlIGZyZXF1ZW5jeSBiYXNlZCBvbiBhY3Rpdml0eVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0U2VydmVyQ2hhbmdlRnJlcSh2b3RlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAodm90ZXMgPiA1MDApIHJldHVybiAnZGFpbHknO1xuICAgIGlmICh2b3RlcyA+IDEwMCkgcmV0dXJuICd3ZWVrbHknO1xuICAgIHJldHVybiAnbW9udGhseSc7XG4gIH1cblxuICAvKipcbiAgICogRmFsbGJhY2sgc3RhdGljIHNpdGVtYXAgaWYgZGF0YWJhc2UgaXMgdW5hdmFpbGFibGVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGdldFN0YXRpY1NpdGVtYXAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPHVybHNldCB4bWxucz1cImh0dHA6Ly93d3cuc2l0ZW1hcHMub3JnL3NjaGVtYXMvc2l0ZW1hcC8wLjlcIj5cbiAgPHVybD5cbiAgICA8bG9jPmh0dHBzOi8vc2VydmVyY3JhZnQubmV0LzwvbG9jPlxuICAgIDxsYXN0bW9kPiR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19PC9sYXN0bW9kPlxuICAgIDxjaGFuZ2VmcmVxPmhvdXJseTwvY2hhbmdlZnJlcT5cbiAgICA8cHJpb3JpdHk+MS4wPC9wcmlvcml0eT5cbiAgPC91cmw+XG48L3VybHNldD5gO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgc2l0ZW1hcCByZWdlbmVyYXRpb24gd2hlbiBhIG5ldyBzZXJ2ZXIgaXMgYWRkZWRcbiAgICovXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVTaXRlbWFwRm9yTmV3U2VydmVyKHNlcnZlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFRyaWdnZXJpbmcgc2l0ZW1hcCB1cGRhdGUgZm9yIG5ldyBzZXJ2ZXI6ICR7c2VydmVySWR9YCk7XG4gICAgICBjb25zdCBuZXdTaXRlbWFwID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNpdGVtYXAoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTaXRlbWFwIHJlZ2VuZXJhdGVkIHdpdGggbmV3IHNlcnZlcicpO1xuICAgICAgXG4gICAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIHNhdmUgdG8gL3B1YmxpYy9zaXRlbWFwLXNlcnZlcnMueG1sXG4gICAgICAvLyBGb3IgZGV2ZWxvcG1lbnQsIHdlJ2xsIHN0b3JlIGl0IGluIGxvY2FsU3RvcmFnZSBhbmQgbG9nIHRoZSB1cGRhdGVcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZHluYW1pYy1zZXJ2ZXItc2l0ZW1hcCcsIG5ld1NpdGVtYXApO1xuICAgICAgICBjb25zb2xlLmxvZygnRHluYW1pYyBzZXJ2ZXIgc2l0ZW1hcCB1cGRhdGVkIGFuZCBzdG9yZWQnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHlvdSB3b3VsZCBhbHNvOlxuICAgICAgICAvLyAxLiBXcml0ZSB0aGUgc2l0ZW1hcCB0byAvcHVibGljL3NpdGVtYXAtc2VydmVycy54bWxcbiAgICAgICAgLy8gMi4gTm90aWZ5IHNlYXJjaCBlbmdpbmVzIG9mIHRoZSB1cGRhdGVcbiAgICAgICAgLy8gMy4gVXBkYXRlIHRoZSBtYWluIHNpdGVtYXAgaW5kZXggdG8gcmVmZXJlbmNlIHRoaXMgc2VydmVyIHNpdGVtYXBcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2l0ZW1hcCBmb3IgbmV3IHNlcnZlcjonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBnZW5lcmF0ZWQgc2l0ZW1hcFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEN1cnJlbnRTaXRlbWFwKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVTaXRlbWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBkZWRpY2F0ZWQgc2VydmVyIHNpdGVtYXAgKHNlcGFyYXRlIGZyb20gbWFpbiBzaXRlbWFwKVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdlbmVyYXRlU2VydmVyU2l0ZW1hcCgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIGFwcHJvdmVkIHNlcnZlcnNcbiAgICAgIGNvbnN0IHsgZGF0YTogc2VydmVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzZXJ2ZXJzJylcbiAgICAgICAgLnNlbGVjdCgnc2x1ZywgdXBkYXRlZF9hdCwgZ2FtZW1vZGUsIHBsYXRmb3JtLCB2b3RlcywgbmFtZScpXG4gICAgICAgIC5lcSgnc3RhdHVzJywgJ2FwcHJvdmVkJylcbiAgICAgICAgLm9yZGVyKCd2b3RlcycsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNlcnZlcnMgZm9yIHNlcnZlciBzaXRlbWFwOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW1wdHlTZXJ2ZXJTaXRlbWFwKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly9zZXJ2ZXJjcmFmdC5uZXQnO1xuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgICAgbGV0IHNpdGVtYXAgPSBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48dXJsc2V0IHhtbG5zPVwiaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvc2NoZW1hcy9zaXRlbWFwLzAuOVwiXG4gICAgICAgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbiAgICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPVwiaHR0cDovL3d3dy5zaXRlbWFwcy5vcmcvc2NoZW1hcy9zaXRlbWFwLzAuOVxuICAgICAgICBodHRwOi8vd3d3LnNpdGVtYXBzLm9yZy9zY2hlbWFzL3NpdGVtYXAvMC45L3NpdGVtYXAueHNkXCI+XG4gIFxuICA8IS0tIFNlcnZlciBQYWdlcyBTaXRlbWFwIC0gR2VuZXJhdGVkICR7Y3VycmVudERhdGV9IC0tPlxuYDtcblxuICAgICAgLy8gQWRkIGluZGl2aWR1YWwgc2VydmVyIHBhZ2VzXG4gICAgICBpZiAoc2VydmVycyAmJiBzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBzZXJ2ZXIgb2Ygc2VydmVycykge1xuICAgICAgICAgIGNvbnN0IGxhc3RNb2QgPSBzZXJ2ZXIudXBkYXRlZF9hdCA/IG5ldyBEYXRlKHNlcnZlci51cGRhdGVkX2F0KS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gOiBjdXJyZW50RGF0ZTtcbiAgICAgICAgICBjb25zdCBwcmlvcml0eSA9IHRoaXMuZ2V0U2VydmVyUHJpb3JpdHkoc2VydmVyLnZvdGVzLCBzZXJ2ZXIuZ2FtZW1vZGUsIHNlcnZlci5wbGF0Zm9ybSk7XG4gICAgICAgICAgY29uc3QgY2hhbmdlZnJlcSA9IHRoaXMuZ2V0U2VydmVyQ2hhbmdlRnJlcShzZXJ2ZXIudm90ZXMpO1xuICAgICAgICAgIFxuICAgICAgICAgIHNpdGVtYXAgKz0gYCAgPHVybD5cbiAgICA8bG9jPiR7YmFzZVVybH0vc2VydmVyLyR7c2VydmVyLnNsdWd9PC9sb2M+XG4gICAgPGxhc3Rtb2Q+JHtsYXN0TW9kfTwvbGFzdG1vZD5cbiAgICA8Y2hhbmdlZnJlcT4ke2NoYW5nZWZyZXF9PC9jaGFuZ2VmcmVxPlxuICAgIDxwcmlvcml0eT4ke3ByaW9yaXR5fTwvcHJpb3JpdHk+XG4gIDwvdXJsPlxuYDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzaXRlbWFwICs9ICdcXG48L3VybHNldD4nO1xuICAgICAgcmV0dXJuIHNpdGVtYXA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgc2VydmVyIHNpdGVtYXA6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RW1wdHlTZXJ2ZXJTaXRlbWFwKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBlbXB0eSBzZXJ2ZXIgc2l0ZW1hcCBpZiBnZW5lcmF0aW9uIGZhaWxzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZXRFbXB0eVNlcnZlclNpdGVtYXAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPHVybHNldCB4bWxucz1cImh0dHA6Ly93d3cuc2l0ZW1hcHMub3JnL3NjaGVtYXMvc2l0ZW1hcC8wLjlcIj5cbiAgPCEtLSBTZXJ2ZXIgc2l0ZW1hcCB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZSAtLT5cbjwvdXJsc2V0PmA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHNlcnZlciBzaXRlbWFwIHdoZW4gc2VydmVyIGlzIGRlbGV0ZWRcbiAgICovXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVTaXRlbWFwRm9yRGVsZXRlZFNlcnZlcihzZXJ2ZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBUcmlnZ2VyaW5nIHNpdGVtYXAgdXBkYXRlIGZvciBkZWxldGVkIHNlcnZlcjogJHtzZXJ2ZXJJZH1gKTtcbiAgICAgIGNvbnN0IG5ld1NpdGVtYXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlU2VydmVyU2l0ZW1hcCgpO1xuICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBzaXRlbWFwIHJlZ2VuZXJhdGVkIGFmdGVyIHNlcnZlciBkZWxldGlvbicpO1xuICAgICAgXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2R5bmFtaWMtc2VydmVyLXNpdGVtYXAnLCBuZXdTaXRlbWFwKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBzaXRlbWFwIHVwZGF0ZWQgYWZ0ZXIgZGVsZXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2l0ZW1hcCBmb3IgZGVsZXRlZCBzZXJ2ZXI6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhbmQgc2F2ZSBzaXRlbWFwIHRvIHB1YmxpYy9zaXRlbWFwLnhtbFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdlbmVyYXRlQW5kU2F2ZVNpdGVtYXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5e677iPIEdlbmVyYXRpbmcgY29tcGxldGUgc2l0ZW1hcC4uLicpO1xuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSB0aGUgY29tcGxldGUgc2l0ZW1hcCB3aXRoIGFsbCBVUkxzXG4gICAgICBjb25zdCBzaXRlbWFwWE1MID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNpdGVtYXAoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU2l0ZW1hcCBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+ThCBTaXRlbWFwIHByZXZpZXcgKGZpcnN0IDUwMCBjaGFycyk6Jywgc2l0ZW1hcFhNTC5zdWJzdHJpbmcoMCwgNTAwKSArICcuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gTm90ZTogV3JpdGluZyB0byBmaWxlc3lzdGVtIGlzIGEgc2VydmVyLXNpZGUgb3BlcmF0aW9uXG4gICAgICBjb25zb2xlLmxvZygn8J+SviBTaXRlbWFwIGdlbmVyYXRlZCAtIGZpbGVzeXN0ZW0gd3JpdGUgcmVxdWlyZXMgc2VydmVyLXNpZGUgaW1wbGVtZW50YXRpb24nKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgaW4gbG9jYWxTdG9yYWdlIGZvciBkZXZlbG9wbWVudCBwdXJwb3Nlc1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0ZWQtc2l0ZW1hcCcsIHNpdGVtYXBYTUwpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTaXRlbWFwIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UgZm9yIGRldmVsb3BtZW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNob3cgdXNlci1mcmllbmRseSBtZXNzYWdlIHdpdGggaW5zdHJ1Y3Rpb25zXG4gICAgICBjb25zdCB1cmxDb3VudCA9IChzaXRlbWFwWE1MLm1hdGNoKC88dXJsPi9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgYWxlcnQoYOKchSBTaXRlbWFwIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhXFxuXFxu8J+TiiBHZW5lcmF0ZWQgJHt1cmxDb3VudH0gVVJMc1xcbvCfkr4gU3RvcmVkIGluIGxvY2FsU3RvcmFnZSBmb3IgZGV2ZWxvcG1lbnRcXG7wn5SNIENoZWNrIGJyb3dzZXIgY29uc29sZSBmb3Igc2l0ZW1hcCBjb250ZW50XFxuXFxu8J+TnSBUbyBzYXZlIHRvIGZpbGVzeXN0ZW06XFxuMS4gQ29weSBzaXRlbWFwIGZyb20gY29uc29sZVxcbjIuIFNhdmUgYXMgcHVibGljL3NpdGVtYXAueG1sYCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNpdGVtYXAgZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBGYWxsYmFjazogc2F2ZSB0byBsb2NhbFN0b3JhZ2UgYW5kIHByb3ZpZGUgbWFudWFsIGluc3RydWN0aW9uc1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2l0ZW1hcFhNTCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVTaXRlbWFwKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0ZWQtc2l0ZW1hcCcsIHNpdGVtYXBYTUwpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFNpdGVtYXAgc3RvcmVkIGluIGxvY2FsU3RvcmFnZSBhcyBmYWxsYmFjaycpO1xuICAgICAgICAgIGFsZXJ0KGDimqDvuI8gQ291bGQgbm90IHdyaXRlIHRvIGZpbGUgc3lzdGVtLCBidXQgc2l0ZW1hcCB3YXMgZ2VuZXJhdGVkIVxcblxcbvCfk4sgU2l0ZW1hcCBzYXZlZCB0byBsb2NhbFN0b3JhZ2VcXG7wn5SNIFJ1bjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dlbmVyYXRlZC1zaXRlbWFwJykgaW4gY29uc29sZVxcbvCfk50gQ29weSB0aGUgb3V0cHV0IGFuZCBzYXZlIGFzIHB1YmxpYy9zaXRlbWFwLnhtbGApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgIGFsZXJ0KGDinYwgU2l0ZW1hcCBnZW5lcmF0aW9uIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiU2l0ZW1hcFNlcnZpY2UiLCJnZW5lcmF0ZVNpdGVtYXAiLCJkYXRhIiwic2VydmVycyIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwiYmFzZVVybCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzaXRlbWFwIiwibGVuZ3RoIiwic2VydmVyIiwibGFzdE1vZCIsInVwZGF0ZWRfYXQiLCJwcmlvcml0eSIsImdldFNlcnZlclByaW9yaXR5Iiwidm90ZXMiLCJnYW1lbW9kZSIsInBsYXRmb3JtIiwiY2hhbmdlZnJlcSIsImdldFNlcnZlckNoYW5nZUZyZXEiLCJzbHVnIiwiZ2V0U3RhdGljU2l0ZW1hcCIsImdlbmVyYXRlU2l0ZW1hcF9PTEQiLCJwb3B1bGFyR2FtZW1vZGVzIiwiaW5jbHVkZXMiLCJNYXRoIiwibWluIiwidG9GaXhlZCIsInVwZGF0ZVNpdGVtYXBGb3JOZXdTZXJ2ZXIiLCJzZXJ2ZXJJZCIsImxvZyIsIm5ld1NpdGVtYXAiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0Q3VycmVudFNpdGVtYXAiLCJnZW5lcmF0ZVNlcnZlclNpdGVtYXAiLCJnZXRFbXB0eVNlcnZlclNpdGVtYXAiLCJ1cGRhdGVTaXRlbWFwRm9yRGVsZXRlZFNlcnZlciIsImdlbmVyYXRlQW5kU2F2ZVNpdGVtYXAiLCJzaXRlbWFwWE1MIiwic3Vic3RyaW5nIiwidXJsQ291bnQiLCJtYXRjaCIsImFsZXJ0IiwiZmFsbGJhY2tFcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/services/sitemapService.ts\n");

/***/ })

};
;